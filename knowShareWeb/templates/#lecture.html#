{% extends "base.html" %}
{% load knowShareCustomFilter %}
{% block title %}수업 강의실{% endblock %}>
{% block css %}
.lecture button { float:right; }
.lectureTable {margin:10px 0 0 0; padding:10px 0 0 0;}
th {font-size:20px;}
td:first-child {width:20%;}
td:last-child {width:13%;}

{% endblock %}
{% block javascript %}
function createMeeting()
{
document.createRoom.submit();
}

function joinMeeting()
{
document.joinRoom.submit();
}
{% endblock %}        
{% block mainnav %}
{% endblock %}
{% block content %}   

<div class="lecture">
<h3>강의실</h3>
<table class="table lectureTable">
  <thead>
    <tr>
      <th>나의 강의실</th>
    </tr>
  </thead>
  <tbody>
    {% for lecture in lectures %}
    <tr class="body">
      {% if runnings|lookupfor:forloop.counter == False %}
      <td style="color:red; font-weight:bold;">OffAir</td>
      {% else %}
      <td style="color:green; font-weight:bold;">OnAir</td>
      {% endif %}
      <td>{{lecture.teacher.name}} 선생님,
	{% for student in lecture.student.all %}
	{{student.name}} 학생  
	{% endfor %}
	강의실</td>
      <td>
	<form method="POST" class="createRoom" name="createRoom" action="/createMeeting/">{% csrf_token %}
	<button onClick="javascript:createMeeting();" class="btn">강의실 생성</button></td>
        </form>
      <td>
	<form method="POST" class="joinRoom" name="joinRoom" action="/joinMeeting/">{% csrf_token %}
	<button class="btn">강의실 입장</button>
	</form>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<legend></legend>
</div>
<div class="footer">
  <p>&copy; KnowledgeShare 2013</p>
</div>

{% endblock %}    
